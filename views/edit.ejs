<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

     <!-- Latest compiled and minified CSS -->
     <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
     <!-- jQuery library -->
     <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
     <!-- Popper JS -->
     <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
     <!-- Latest compiled JavaScript -->
     <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>


    <title>Server Side nodejs</title>
</head>
<body>
    <h1><a href="/topic">Server Side Javascript</a></h1>
    <ol>
        <% for(i=0;i<topics.length;i++) {%>
            <a href="/topic/<%= topics[i].id %>">
        <li><%= topics[i].title %>  </a> &nbsp;:&nbsp; <%= topics[i].description %></li>
    
        <% } %>
    </ol>
    <% if(topic)  { %>
<h2><%= topic.title %></h2>
<p><%= topic.description %></p>
<p>by <%= topic.author %></p> <br>
<a href="/topic/add"><button type="button" class="btn btn-danger">"삭제"</button></a>
<a href="/topic/edit"><button type="button" class="btn btn-success">"수정"</button></a>
<% } else { %>
    <h2>welcome</h2>
    This is Server Side Javascript Tutorial <br>
    <a href="/topic/add"><button type="button" class="btn btn-primary">"추가"</button></a>
    <% }  %>
   

    <article>
        <form action="/topic/add" method="POST" >
            <div class="form-group">
            <p><input  class="form-control" type="text" name="title" value = "<%= topic.title %>" required></p>
            <p><textarea  class="form-control" type="text" name="description" value = topic.description cols="100" required><%= topic.description %></textarea></p>
            <p><input  class="form-control" type="text" name="author" value = "<%= topic.author %>" required></p>
            <p><input  class="form-control btn-warning" type="submit"  value="수정"></p>
            </div>
        </form>
        <form action="/topic/<%= topic.id %>">
            <p><input  class="form-control btn-danger" type="submit" value="취소"></p>
        </form>

        <a href="/topic"><button type="button" class="btn btn-primary">홈으로</button></a>
    </article>

</body>
</html>